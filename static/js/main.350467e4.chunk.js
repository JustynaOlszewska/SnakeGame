(this.webpackJsonpsnakegame=this.webpackJsonpsnakegame||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),s=n.n(i),c=(n(9),n(1)),h=function(e){var t=e.setPoints,n=e.points,i=e.easy,s=e.score,c=Object(r.useRef)(),h=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useRef)(),l=Object(r.useRef)();h={changeTime:function(){this.interval=requestAnimationFrame(m)},start:function(){this.ctx=c.current,this.canvas=this.ctx.getContext("2d"),this.canvas.width=300,this.canvas.height=300},clear:function(){this.canvas.clearRect(0,0,this.canvas.width,this.canvas.height)}};var d=Object(r.useCallback)((function(e){return"easy"===i?t(++n):"harder"===i?t(n+2*e):"hard"===i&&t(n+3*e),n}),[i,t,n]);Object(r.useEffect)((function(){return h.changeTime(),function(){return cancelAnimationFrame(h.interval)}}),[]),Object(r.useEffect)((function(){h.start()}),[h]),Object(r.useEffect)((function(){l.current=new function(){var e=this;this.x=[],this.y=[],"easy"===i?(t(0),this.x=[0],this.y=[0],this.width=0,this.height=0):"harder"===i?(o.current.snakeReturnHome(o.current.snakeX,o.current.snakeY,o.current.newHead),this.x=[60],this.y=[160],this.width=160,this.height=20):"hard"===i&&(o.current.snakeReturnHome(o.current.snakeX,o.current.snakeY,o.current.newHead),this.x=[40,80,120,20],this.y=[40,100,160,200],this.width=160,this.height=20),this.drawBarrier=function(){if(h.canvas.fillStyle="red","hard"===i)for(var t=0;t<e.x.length;t++)h.canvas.fillRect(e.x[t],e.y[t],e.width,e.height);h.canvas.fillRect(e.x,e.y,e.width,e.height)}}}),[i,o,t]),Object(r.useEffect)((function(){u.current=new function(e,t,n,r,a){var i=this;console.log("math"),this.x=Math.floor(300*Math.random())+0,this.y=Math.floor(300*Math.random())+0,this.x=this.x-this.x%20,this.y=this.y-this.y%20,this.width=r,this.height=a,this.randomPlaceApple=function(e,t){return e=Math.floor(300*Math.random())+0,t=Math.floor(300*Math.random())+0,e-=e%20,t-=t%20},this.changePlaceApple=function(){for(var e=0;e<l.current.x.length;e++)l.current.x[e]+l.current.width>i.x&&i.x>=l.current.x[e]&&l.current.y[e]+l.current.height>i.y&&i.y>=l.current.y[e]?(console.log("ogogn"),i.randomPlaceApple(i.x,i.y)):(o.current.x===i.x&&o.current.y===i.y||o.current.x===i.x&&o.current.y+1===i.y)&&(o.current.partBodySnakeCounter++,o.current.partBodySnake.push({x:i.scale,y:i.scale}),d(o.current.partBodySnakeCounter),i.randomPlaceApple(i.x,i.y),console.log("bariera")),h.canvas.fillStyle=n,h.canvas.fillRect(i.x,i.y,r,a)}}(40,40,"red",20,20)})),Object(r.useEffect)((function(){o.current=new function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this.scale=r,this.snakeX=20,this.snakeY=20,this.scoreArray=[],this.speedX=1*this.scale,this.speedX===1*this.scale&&(this.direction="right"),this.speedY=0,this.colorTail="black",this.partBodySnake=[],this.partBodySnakeCounter=0,this.partBodySnake[0]={x:this.scale,y:this.scale},this.move=function(t){switch(e.direction=t,e.direction){case"left":o.current.speedX=-o.current.scale,o.current.speedY=0;break;case"right":o.current.speedX=+o.current.scale,o.current.speedY=0;break;case"up":o.current.speedX=0,o.current.speedY=-o.current.scale;break;case"down":o.current.speedX=0,o.current.speedY=+o.current.scale;break;default:throw new Error("the direction does not exist")}},this.update=function(){var e=this;this.snakeTurns(),this.x=this.snakeX,this.y=this.snakeY;this.partBodySnake.map((function(t,r){return h.canvas.strokeStyle=0===r?n:e.colorTail,h.canvas.strokeRect(t.x,t.y,e.scale,e.scale)}))},this.snakeTurns=function(){this.snakeX=o.current.partBodySnake[0].x,this.snakeY=o.current.partBodySnake[0].y,o.current.partBodySnake.pop(),"right"===this.direction?this.x>=h.canvas.width-20&&(this.x=-20):"down"===this.direction?this.y>=h.canvas.width-20&&(this.y=-20):"left"===this.direction?this.x<=0&&(this.x=h.canvas.width):"up"===this.direction&&this.y<=0&&(this.y=h.canvas.width),"left"===this.direction&&(this.snakeX-=this.scale),"up"===this.direction&&(this.snakeY-=this.scale),"right"===this.direction&&(this.snakeX+=this.scale),"down"===this.direction&&(this.snakeY+=this.scale),"right"===this.direction?this.snakeX>=h.canvas.width&&(this.snakeX=0):"down"===this.direction?this.snakeY>=h.canvas.width&&(this.snakeY=0):"left"===this.direction?this.snakeX<=-20&&(this.snakeX=h.canvas.width-20):"up"===this.direction&&this.snakeY<=-20&&(this.snakeY=h.canvas.width-20),this.x+=this.speedX,this.y+=this.speedY;var e={x:this.snakeX,y:this.snakeY};this.partBodySnake.unshift(e),this.snakeCollision(this.snakeX,this.snakeY,e)},this.snakeCollision=function(t,n,r){for(var a=1;a<o.current.partBodySnake.length;a++)t===o.current.partBodySnake[a].x&&n===o.current.partBodySnake[a].y&&e.snakeReturnHome(t,n,r);for(var i=0;i<l.current.x.length;i++)l.current.x[i]+l.current.width>t&&t>=l.current.x[i]&&l.current.y[i]+l.current.height>n&&n>=l.current.y[i]&&e.snakeReturnHome(t,n,r)},this.snakeReturnHome=function(e,n,r){t(0),o.current.partBodySnake[0].x=20,o.current.partBodySnake[0].y=20,r={x:o.current.partBodySnake[0].x,y:o.current.partBodySnake[0].y},o.current.partBodySnake.splice(0,o.current.partBodySnake.length,r)}}}),[s,t]);var m=function e(){h.clear(),l.current.drawBarrier(),o.current.update(),u.current.changePlaceApple(),setTimeout((function(){h.interval=requestAnimationFrame(e)}),300)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{className:"canvas",ref:c,style:{backgroundColor:"green"},width:300,height:300}),a.a.createElement("div",{className:"listButtons"},a.a.createElement("button",{onClick:function(){return o.current.move("up")}},"up"),a.a.createElement("button",{onClick:function(){return o.current.move("down")}},"down"),a.a.createElement("button",{onClick:function(){return o.current.move("left")}},"left"),a.a.createElement("button",{onClick:function(){return o.current.move("right")}},"right")))},o=a.a.memo((function(e){var t=e.easy,n=e.click;return a.a.createElement("form",{className:"levelInput",onSubmit:function(e){e.preventDefault()}},a.a.createElement("label",{htmlFor:"level"},"Wybierz poziom"),a.a.createElement("br",null),a.a.createElement("select",{ref:t,id:"level"},a.a.createElement("option",{value:"easy"},"\u0141atwizna"),a.a.createElement("option",{value:"harder"},"Rozgrzewka przed prawdziwymi problemami"),a.a.createElement("option",{value:"hard"},"Nie dasz rady ")),a.a.createElement("button",{type:"submit",onClick:n},"Rozpocznij poziom"))})),u=a.a.memo((function(e){var t=e.points;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h5",null,"Liczba zdobytych punkt\xf3w"),a.a.createElement("div",null,t))})),l=a.a.memo((function(e){var t=e.points,n=e.easy,r=e.click;return a.a.createElement("main",{className:"pointsForm"},a.a.createElement(u,{points:t}),a.a.createElement(o,{click:r,easy:n}))})),d=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)("easy"),o=Object(c.a)(s,2),u=o[0],d=o[1],m=Object(r.useRef)("easy"),p=Object(r.useCallback)((function(){return d(m.current.value),u}),[u]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,{easy:u,points:n,setPoints:i}),a.a.createElement(l,{easy:m,click:p,points:n}))};var m=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null))};s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.350467e4.chunk.js.map